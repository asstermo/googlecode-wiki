<html>
<head>
<script src="GoogleCodeWikiParser.min.js" type="text/javascript"></script>
<script src="jquery.min.js" type="text/javascript"></script>
<link href="ph_core.min.css" rel="stylesheet" type="text/css"></link>
<link href="ph_detail.min.css" rel="stylesheet" type="text/css"></link>
</head>
<body>
<p class="processing_data_please_hold">A recolher dados, por favor aguarde...</p>
<script>
_appendText=function(text2append){
  var d=document.createElement("div");
  d.innerHTML=text2append;
  document.body.appendChild(d);
}

_getNappendAnchor=function(data){
  var title = '';
  var values=/^\s*#summary\s+(.*)/i.exec(data);

  if(values.length>1)
  {
    title=values[1];
    _appendText('<h1><a name="'+title+'"></a>'+title+'</h1>');
  }
}

_postwiki=function(data)
{
var g = new GoogleCodeWikiParser(false);
g.options.disableWarnings=true;
g.options.wikiBaseURL="http://code.google.com/p/asstermo/wiki/";
g.options.openURLSInNewWindow=true;
var html = g.parse( data );
_getNappendAnchor(data);
_appendText(html);

_nextHash();
}

_nextHash=function()
{
var hashes=document.location.hash.substr(1);
hashes=hashes.split('&');
if(hashes.length>0)
{
  var url="http://"+document.location.hostname+"/hg/"+hashes.shift()+".wiki";
  document.location.hash='#'+hashes.join('&');

  $.ajax({
    url: url,
    success: _postwiki
  });
}
}

_nextHash();
</script>
</body>
</html>